AWSTemplateFormatVersion: '2010-09-09'
Description: Create an IAM Role with an Inline Policy

Parameters:
  IAMRoleName:
    Description: Name for the IAM Role
    Type: String

  InlinePolicyName:
    Description: Name for the Inline IAM Policy
    Type: String

  InlinePolicyContent:
    Description: JSON/YAML content for the Inline IAM Policy
    Type: String

Resources:
  IAMRole:
    Type: "AWS::IAM::Role"
    Properties:
      RoleName: !Ref IAMRoleName
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
          - Effect: "Allow"
            Principal:
              Service: "ec2.amazonaws.com" # Modify this if needed
            Action: "sts:AssumeRole"

  InlinePolicy:
    Type: "AWS::IAM::Policy"
    Properties:
      PolicyName: !Ref InlinePolicyName
      Roles:
        - !Ref IAMRole
      PolicyDocument: !Sub ${InlinePolicyContent}

Outputs:
  IAMRoleARN:
    Description: ARN of the created IAM Role
    Value: !GetAtt IAMRole.Arn
  InlinePolicyName:
    Description: Name of the created Inline IAM Policy
    Value: !Ref InlinePolicyName
